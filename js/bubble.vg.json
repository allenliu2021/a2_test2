{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": "container",
  "title": "Total cases vs. stringency_index",
  "data": {
  "url": "https://raw.githubusercontent.com/allenliu2021/3179_test/main/A2_bubble_data1.csv"
  },
  "transform": [
 
  {"filter": "datum.stringency_index > 0"},
 {"filter": "datum.new_cases_per_million > 1"}
  ],
  "mark": "circle",
  "encoding": {
  "x": {
  "field": "stringency_index",
  "type": "quantitative",
  "axis": {"tickCount": 2},
  "scale": {"type": "log", "domain": [1, 100]}
  },
  "y": {
  "field": "new_cases_per_million",
  "type": "quantitative","axis": {"tickCount": 2},
  "scale": {"type": "log", "domain": [1, 1500]}
  },
  
  "color": {
  "field": "continent",
  "type": "nominal",
  
  "scale": {
  "domain": [
  "North America",
  "South America",
  "Europe",
  "Africa",
  "Asia",
  "Oceania"
  ],
  "range": [
  "#e41a1c",
  "#984ea3",
  "#ff7f00",
  "#a6cee3",
  "#377eb8",
  "#a65628"
  ]
  }
  },
 "opacity": {
  "value": 0.6
  },
  "size": {
  "field": "population",
  "type": "quantitative",
  "scale": {
  "type": "threshold",
  "domain": [1000000, 10000000, 50000000, 100000000, 500000000],
  "range": [10, 50, 150, 200, 300, 400]
  },
  "legend":null
  },
  "tooltip": [
  {"field": "location", "type": "nominal"},
  {"field": "continent", "type": "nominal"},
  {"field": "new_cases_per_million", "type": "quantitative", "format": ","},
  {"field": "stringency_index", "type": "quantitative", "format": ","}
  ]
 
 
  }
 }
 